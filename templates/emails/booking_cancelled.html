{% extends "emails/base_email.html" %}

{% block title %}Booking Cancelled - OkPuja{% endblock %}

{% block header_title %}Booking Cancelled{% endblock %}
{% block header_subtitle %}We're sorry to see you go{% endblock %}

{% block content %}
<!-- Cancellation Icon -->
<div class="text-center mb-6">
    <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">
        <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
    </div>
    <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 mb-2">
        Booking Cancelled
    </h2>
    <p class="text-gray-600 text-sm sm:text-base">
        Booking ID: <span class="font-semibold text-red-600">#{{ booking.book_id }}</span>
    </p>
</div>

<!-- Personal Greeting -->
<div class="bg-red-50 rounded-lg p-4 sm:p-6 mb-6 border-l-4 border-red-400">
    <p class="text-gray-800 text-sm sm:text-base lg:text-lg">
        Dear <span class="font-semibold text-red-600">{{ booking.user.first_name }}</span>,
    </p>
    <p class="text-gray-700 mt-2 text-sm sm:text-base leading-relaxed">
        Your booking has been successfully cancelled as per your request. We're sorry that we couldn't serve you this time, but we hope to see you again in the future for your spiritual needs.
    </p>
</div>

<!-- Cancelled Booking Details Card -->
<div class="bg-white border-2 border-red-100 rounded-lg overflow-hidden mb-6 shadow-sm">
    <div class="bg-red-500 px-4 py-3">
        <h3 class="text-white font-semibold text-base sm:text-lg">Cancelled Booking Details</h3>
    </div>
    
    <div class="p-4 sm:p-6">
        <div class="space-y-4 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-4">
            <!-- Service -->
            <div class="bg-gray-50 rounded-lg p-3 sm:p-4 opacity-75">
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5 text-gray-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-xs sm:text-sm font-medium text-gray-600 mb-1">Service</p>
                        <p class="text-sm sm:text-base font-semibold text-gray-700 break-words leading-tight line-through">{{ booking.cart.service.title }}</p>
                    </div>
                </div>
            </div>

            <!-- Date -->
            <div class="bg-gray-50 rounded-lg p-3 sm:p-4 opacity-75">
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5 text-gray-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-xs sm:text-sm font-medium text-gray-600 mb-1">Date</p>
                        <p class="text-sm sm:text-base font-semibold text-gray-700 line-through">{{ booking.selected_date }}</p>
                    </div>
                </div>
            </div>

            <!-- Time -->
            <div class="bg-gray-50 rounded-lg p-3 sm:p-4 opacity-75">
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5 text-gray-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-xs sm:text-sm font-medium text-gray-600 mb-1">Time</p>
                        <p class="text-sm sm:text-base font-semibold text-gray-700 line-through">{{ booking.selected_time }}</p>
                    </div>
                </div>
            </div>

            <!-- Refund Amount -->
            <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-3 sm:p-4 border border-blue-200">
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5 text-blue-600 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path>
                        </svg>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-xs sm:text-sm font-medium text-blue-700 mb-1">Refund Amount</p>
                        <p class="text-lg sm:text-xl font-bold text-blue-800">₹{{ booking.total_amount }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Refund Information -->
<div class="bg-blue-50 border-l-4 border-blue-400 p-4 sm:p-6 mb-6 rounded-r-lg">
    <div class="flex items-start space-x-3">
        <div class="flex-shrink-0">
            <svg class="w-4 h-4 sm:w-5 sm:h-5 text-blue-400 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
        </div>
        <div class="flex-1">
            <h3 class="text-sm sm:text-base font-medium text-blue-800 mb-2">Refund Information</h3>
            <div class="text-xs sm:text-sm text-blue-700 space-y-2">
                <div class="flex items-start space-x-2">
                    <span class="text-blue-500 mt-1">•</span>
                    <span>Your refund of ₹{{ booking.total_amount }} will be processed within 5-7 business days</span>
                </div>
                <div class="flex items-start space-x-2">
                    <span class="text-blue-500 mt-1">•</span>
                    <span>The amount will be credited to your original payment method</span>
                </div>
                <div class="flex items-start space-x-2">
                    <span class="text-blue-500 mt-1">•</span>
                    <span>You will receive a separate email confirmation once the refund is processed</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Alternative Options -->
<div class="bg-orange-50 border border-orange-200 rounded-lg p-4 sm:p-6 mb-6">
    <div class="text-center">
        <h3 class="text-base sm:text-lg font-semibold text-orange-800 mb-3">
            <span class="inline-block mr-2">🔄</span>
            Looking for Alternative Options?
        </h3>
        <p class="text-xs sm:text-sm text-orange-700 mb-4 leading-relaxed">
            We understand that plans can change. If you'd like to reschedule or book a different service, we're here to help!
        </p>
        <div class="flex flex-col sm:flex-row gap-3 justify-center">
            <a href="#" class="inline-flex items-center justify-center px-4 py-2 bg-orange-500 text-white text-xs sm:text-sm font-medium rounded-lg hover:bg-orange-600 transition-colors">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
                Book New Service
            </a>
            <a href="#" class="inline-flex items-center justify-center px-4 py-2 bg-white border border-orange-500 text-orange-500 text-xs sm:text-sm font-medium rounded-lg hover:bg-orange-50 transition-colors">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.013 8.013 0 01-7-4c0-4.418 3.582-8 8-8s8 3.582 8 8z"></path>
                </svg>
                View Our Services
            </a>
        </div>
    </div>
</div>

<!-- Contact Information -->
<div class="text-center bg-gray-50 rounded-lg p-4 sm:p-6 mb-6">
    <h3 class="text-base sm:text-lg font-semibold text-gray-800 mb-3">Need Help?</h3>
    <div class="space-y-3 sm:space-y-0 sm:flex sm:justify-center sm:items-center sm:space-x-6">
        <!-- Phone -->
        <div class="flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-600">
            <svg class="w-4 h-4 text-orange-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            <span class="break-all">Call us: +91-XXXXXXXXXX</span>
        </div>
        <!-- Email -->
        <div class="flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-600">
            <svg class="w-4 h-4 text-orange-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
            <span class="break-all">support@okpuja.com</span>
        </div>
    </div>
</div>

<!-- Apology Message -->
<div class="text-center">
    <div class="bg-gradient-to-r from-red-50 to-orange-50 rounded-lg p-4 sm:p-6">
        <p class="text-base sm:text-lg text-gray-700 mb-2 font-medium">
            🙏 We apologize for any inconvenience caused
        </p>
        <p class="text-xs sm:text-sm text-gray-500 mb-3">
            Your spiritual journey is important to us, and we hope to serve you again soon
        </p>
        <p class="text-xs sm:text-sm text-orange-600 font-medium">
            Thank you for choosing OkPuja
        </p>
    </div>
</div>
{% endblock %}